{% extends 'frontend.html' %}

{% block content %}
    <div class="container mx-auto max-w-lg mt-8" x-data="sortList">
        <div class="header-bar flex justify-between items-center bg-blue-600 text-white p-4 rounded-t-md mb-4">
            <a href="{% url 'resumes:index' %}" class="text-white hover:text-blue-800">&#8592;返回</a>
            {% for resume in total_data.resume_data %}
            <a href="{% url 'resumes:generate_resume_pdf' resume.resume_id %}">Download PDF</a>
            {% endfor %}
        </div>
        <h1 class="text-2xl font-bold mb-6">履歷預覽</h1>

        <h2 class="text-lg">個人資訊</h2>
        <ul class="pl-5" id="personal-info">
            {% for resume in total_data.resume_data %}
                {% if resume.picture %}
                    <li data-id="0"><img src="{{ resume.picture.url }}" alt="照片" class="w-40 h-32 mr-6"></li>
                {% else %}
                    <li data-id="0" class="text-gray-600">無照片顯示</li>
                {% endif %}
                <li data-id="0" class="mb-2">姓名：<strong class="text-blue">{{ resume.name }}</strong></li>
                <li data-id="0" class="mb-2">性別：{{ resume.get_gender_display }}</li>
                <li data-id="0" class="mb-2">生日：{{ resume.birthday }}</li>
                <li data-id="0" class="mb-2">信箱：{{ resume.email }}</li>
                <li data-id="0" class="mb-2">電話：{{ resume.phone_number }}</li>
                <li data-id="0" class="mb-2">地址：{{ resume.address }}</li>
                <li data-id="0" class="mb-2">技能：{{resume.skills}}</li>
                <li data-id="0" class="mb-2">個人網站：{{resume.website}}</li>
                <li data-id="0" class="mb-2">工作經驗：{{resume.experience}}</li>
                <li data-id="0" class="mb-2">Linkedin：{{resume.linkedin}}</li>
                <li data-id="0" class="mb-2">GitHub：{{resume.github}}</li>
            {% endfor %}
        </ul>
        <hr>

        <h2 class="text-lg">教育經驗</h2>
        <ul class="pl-5" id="education-experience">
            {% for education in total_data.education_data %}
                <li data-id="{{ education.id }}">
                    <p>{{ education.school_name }}-{{education.major}}</p>
                    <p>{{ education.get_degree_display }}</p>
                    <p>{{ education.start_date}}-{{ education.end_date}}</p>
                </li>
            {% endfor %}
        </ul>
        <hr>

        <h2 class="text-lg">工作經驗</h2>
        <ul class="pl-5" id="work-experience">
            {% for work in total_data.work_data %}
            <li data-id="{{ work.id }}">
                <p>{{ work.company_name }}-{{work.position}}</p>    
                <p>{{ work.start_date}}-{{ work.end_date}}</p>
            </li>
            {% endfor %}
        </ul>
        <hr>

        <h2 class="text-lg">專案經驗</h2>
        <ul class="pl-5" id="project-experience">
            {% for project in total_data.project_data %}
                <li data-id="{{ project.id }}">
                    <p>{{ project.project_name }}</p>
                    <p>{{ project.responsibility }}</p>
                    <p>{{ project.technologies_used}}</p>
                    <p>{{project.description}}</p>
                </li>
            {% endfor %}
        </ul>
        <hr>
    </div>

{% endblock %}
